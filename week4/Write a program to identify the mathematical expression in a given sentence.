def is_operator(token):
  return token in ['+','-','*','/','(',')','^','=']
def is_operand(token):
  return token.replace('.','',1).isdigit() or token.isalpha()
def tokenize(text):
  """Tokenize the text into a list of clean tokens."""
  tokens = []
  current = ''
  for ch in text:
    if ch in '+-*/^=()':
      if current:
        tokens.append(current)
        current = ''
      tokens.append(ch)
    elif ch.isdigit() or ch == '.':
      current += ch
    else:
      if current:
        tokens.append(current.strip())
        current = ''
      tokens.append(' ')
  if current:
    tokens.append(current.strip())
  return tokens
def extract_math_expressions(tokens):
  expressions = []
  current_expr = []
  expression_started = False
  valid_tokens = set(['+','-','*','/','(',')','^','='])
  for token in tokens:
    token = token.strip()
    if not token:
      continue
    if is_operand(token) or is_operator(token):
      current_expr.append(token)
      expression_started = True
    else:
      if expression_started and len(current_expr)>=3:
        expressions.append(' '.join(current_expr))
      current_expr = []
      expression_started = False
  if expression_started and len(current_expr) >= 3:
    expressions.append(' '.join(current_expr))
  return expressions
paragraph = "In physics, force is calculated using\
F = m * a and energy is given by E = m * c ^ 2"
tokens = tokenize(paragraph)
print("Tokens:",tokens)
math_expressions = extract_math_expressions(tokens)
print("\nMathematical Expressions Found:")
if math_expressions:
  for expr in math_expressions:
    print(expr)
else:
  print("No mathematical expressions found.")
